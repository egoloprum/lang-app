{% extends 'main.html' %}

{% block content %}

<section class="m-3">
  <div class="m-3 p-3 white-border">
    <div class="row">  
      <div class="col d-flex">
        <input type="search" class="form-control me-2" placeholder="Search...">
        <button class="btn btn-outline-success" type="submit">Search</button>
      </div>
  
      <div class="col">
        <select class="form-select">
            <option selected>All</option>
          {% for topic in topics %}
            <option><a href="{% url 'topic' topic.id %}"> {{ topic.name }}</a></option>
          {% endfor %}
        </select>
      </div>
    </div>
  
    <div class="mt-3" style="display: flex; justify-content: space-between;">
      <div class="me-2" style="width: 100%;">
        <select class="form-select">
          <option selected>Status</option>
          <option>Not Started</option>
          <option>Attempted</option>
          <option>Solved</option>
        </select>
      </div>
      <div class="me-2" style="width: 100%;">
        <select class="form-select">
          <option selected>Tags</option>
          <option>Beginner</option>
          <option>Intermediate</option>
          <option>Advanced</option>
        </select>
      </div>
      <div class="me-2" style="width: 100%;">
        <select class="form-select">
          <option selected>Topics</option>
          <option>Advice</option>
          <option>Self Development</option>
        </select>
      </div>
      <div class="me-2" style="width: 100%;">
        <select class="form-select">
          <option selected>Access</option>
          <option>Free</option>
          <option>Premium</option>
        </select>
      </div>
      <div style="width: 100%;">
        <select class="form-select">
          <option selected>Date</option>
          <option>Not Started</option>
          <option>Started</option>
          <option>Finished</option>
        </select>
      </div>
    </div><hr>
  
    <div class="mt-3" style="display: grid; justify-content: center; grid-template-columns: 350px 350px 350px;">
      {% for course in courses %}
        <div class="m-3 p-3 white-border">
          <div>
            <b><a href="{% url 'course-each' course.id %}">
              {% if course.name is None %}
                New Course
              {% else %}
                {{ course.name }}
              {% endif %}
            </a></b>
          </div>
          <div>
            <p class="small-font-size">{{ course.created_at }}</p>
          </div>
          <div class="small-font-size mt-2" style="height: 50px;">
            <p class="text-muted" style="font-size: 12px;">
              {% if course.body is None %}
                No content
              {% else %}
                {{ course.body|striptags|safe|truncatechars:100 }}
              {% endif %}
            </p>
          </div>
          <div class="small-font-size mt-3" style="display: flex; justify-content: space-between;">
            <p>Start: {{ course.start_date|date:"d/M/Y" }}</p>
            <p>End: {{ course.end_date|date:"d/M/Y" }}</p>
          </div>
          <div class="small-font-size mt-2" style="display: flex; justify-content: space-between;">
            <p>Progress</p>
            <p>20%</p>
          </div>
          <div style="height: 8px; width: 100%; background: grey; border-radius: 5px;">
          </div>
          <div class="mt-3">
            <button class="btn btn-sm btn-light" 
              style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .75rem;">{{ course.tag.name }}
            </button>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% endblock %}
