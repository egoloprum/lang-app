{% extends 'main.html' %}
{% load humanize %}
{% now "Y-m-d" as todays_date %}
{% block content %}

<section class="m-3">
  <div class="m-3 p-3 white-border">

    <!-- search bar -->
    <div class="mt-3" >
      <form method="POST" action="" class="d-flex flex-row justify-content-between">
        {% csrf_token %}
        <input type="search" class="form-control me-2" name="course-search" placeholder="Search..."
          hx-post="{% url 'course-search' %}" hx-target="#search-course" hx-trigger="keyup changed delay:300ms">

        <!-- tags -->
        <div class="me-2" style="width: 100%;">
          <select class="form-select" name="course-tags">
            <option selected>Tags</option>
            <option>Beginner</option>
            <option>Intermediate</option>
            <option>Advanced</option>
          </select>
        </div>
        <!-- topics -->
        <div class="me-2" style="width: 100%;">
          <select class="form-select" name="course-topics">
            <option selected>Topics</option>
            <option>Advice</option>
            <option>Self Development</option>
          </select>
        </div>
        <!-- date -->
        <div class="me-2" style="width: 100%;">
          <select class="form-select" name="course-date">
            <option selected>Date</option>
            <option>Started</option>
            <option>Ended</option>
            <option>Not yet</option>
          </select>
        </div>
        <!-- search -->
        <div class="me-2">
          <button class="btn btn-outline-success" hx-post="{% url 'course-search' %}" hx-target="#search-course"
            id="course-search-btn">Search</nutton>
        </div>
      </form>
    </div><hr>

    <div id="search-course">
      {% include 'course-partial.html' %}
    </div>
    
  </div>
</section>

{{ list_count|json_script:"json-list-count" }}

<script>
  var list_count = JSON.parse(document.getElementById('json-list-count').textContent);
  document.getElementById('notification-bell').innerHTML = list_count;
</script>

{% endblock %}
