{% extends 'main.html' %}
{% load humanize %}

{% block content %}

<section class="m-3">
  <div class="m-3 p-3 white-border">

    <!-- search bar -->
    <div class="mt-3" >
      <form method="POST" action="" style="display: flex; flex-direction: row; justify-content: space-between;">
        {% csrf_token %}
        <div class="me-2" style="width: 100%;">
          <select class="form-select" name="course-status">
            <option selected>Status</option>
            <option>Not Started</option>
            <option>Attempted</option>
            <option>Solved</option>
          </select>
        </div>
        <div class="me-2" style="width: 100%;">
          <select class="form-select" name="course-tags">
            <option selected>Tags</option>
            <option>Beginner</option>
            <option>Intermediate</option>
            <option>Advanced</option>
          </select>
        </div>
        <div class="me-2" style="width: 100%;">
          <select class="form-select" name="course-topics">
            <option selected>Topics</option>
            <option>Advice</option>
            <option>Self Development</option>
          </select>
        </div>
        <div style="width: 100%;">
          <select class="form-select" name="course-date">
            <option selected>Date</option>
            <option>With time</option>
            <option>Without time</option>
          </select>
        </div>
        <div class="me-2" style="width: 150%; display: flex;">
          <input type="search" class="form-control me-2" name="course-search" placeholder="Search...">
          <button class="btn btn-outline-success" type="submit">Search</nutton>
        </div>
      </form>
    </div><hr>

    <!-- course side div -->
    <div class="row m-0 ps-5 pe-5">
      {% for course in courses %}
        <div class="col-3 p-3">
          <div class="white-border p-3">
            <p class=""><b>{{ course.name }}</b></p>
            <p class="small-font-size text-muted mb-3">{{ course.created_at|naturaltime }}</p>
            {% if course.body|safe == 'None' %}
              <p class="mb-4 small-font-size">There is no introduction yet.</p>
            {% else %}
              <p class="mb-4">{{ course.body|truncatechars:100 }}</p>
            {% endif %}

            {% if course.start_date.exists and course.end_date.exists %}
              <div class="mb-3" style="display: flex; justify-content: space-between;">
                <p>{{ course.start_date }}</p>
                <p>{{ course.end_date }}</p>
              </div>
            {% endif %}

            <div class="mb-2 small-font-size" style="display: flex; justify-content: space-between;">
              <p>Progress</p>
              <p>10%</p>
            </div>

            <div class="mb-3" style="height: 10px; border: 1px solid #333; border-radius: 5px;">
            </div>

            <div class="mb-2">
              <p class="mb-1">Tags</p>
              {% if not tags %}
                <p class="text-muted small-font-size">There is no tags.</p>
              {% else %}
                <p>Tagsssss</p>
              {% endif %}
            </div>

            <div class="mb-2">
              <a class="btn btn-info btn-sm" href="{% url 'course-each' course.id %}" style="width: 100%;">Here to start</a>
            </div>

          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

{% endblock %}
