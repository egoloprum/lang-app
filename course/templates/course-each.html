{% extends 'main.html' %}

{% block content %}

<section class="m-3">
  <div style="background: rgb(107, 255, 99); width: 100%; height: 300px; display: flex; align-items: end;">
    <h3 class="m-3">{{ course.name }}</h3>
  </div>

  <div class="row">

    <div class="col-3 m-3 for-loop" style="height: fit-content;">
      <div class="m-2">
        <h4>Overview</h4>
        <p class="text-muted small-font-size">{{ course.body|safe|truncatewords_html:5 }}</p>
      </div>
      <div class="m-2">
        <h4>Chapters</h4>
        <ul>
          {% for content in contents %}
            <li><a href="{% url 'content-each' content.id %}">{{ content.name }}</a></li>
          {% endfor %}
        </ul>
      </div>

      <div class="m-2">
        <h4>Quizes</h4>
      </div>

      <div class="m-2">
        <h4>Discuss</h4>
      </div>
    </div>

    <div class="col m-3 for-loop">
      <div class="m-3">
        <h3>Introduction</h3>
      </div>

      <div class="m-3 mb-5">
        <p class="text-muted">{{ course.body|safe }}</p>
      </div>

      <div class="m-3 border">
        <div style="border-bottom: 1px solid rgba(0,0,0,0.2)">
          <h4 class="m-2 p-2">Chapters</h4>
        </div>
        
        <div class="" style="display: grid; grid-template-columns: auto auto;">
          {% for content in contents %}
            <div class="" style="border: 1px solid rgba(0,0,0,0.2)">
              <p class="m-2 p-2"><a href="{% url 'content-each' content.id %}">{{ content.name }}</a></p>
            </div>
          {% endfor %}
        </div>
      </div>

      <div class="m-3 border">
        <div style="border-bottom: 1px solid rgba(0,0,0,0.2)">
          <h4 class="m-2 p-2">Files</h4>
        </div>
        
        <div class="" style="display: grid; grid-template-columns: auto auto;">
          {% for file in files %}
            <div class="" style="border: 1px solid rgba(0,0,0,0.2)">
              <p class="m-2 p-2">{{ file.description }}</p>
              <p class="m-2 p-2"><a href="{{ file.url }}" download>download</a></p>
            </div>
          {% endfor %}
        </div>
      </div>

      <div class="m-3">
        <a class="btn btn-light" style="width: 100%;" href="{% url 'course-edit' course.id %}">Edit Course</a>
      </div>

    </div>
  </div>
</section>

{% endblock %}
