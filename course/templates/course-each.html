{% extends 'main.html' %}

{% block content %}

<section class="m-3">
  <div class="m-3">
    <div class="row m-0">

      <!-- left side div -->
      <div class="col-2 me-3 white-border" style="height: fit-content;">
        <div class="m-1 mt-3 mb-2">
          <h5>Overview</h5>
          <div class="small-font-size ms-3">
            {% if course.body|safe == 'None' %}
              <p><a href="{% url 'course-each' course.id %}">There is no introduction here.</a></p>
            {% else %}
              <p class="text-muted"><a href="{% url 'course-each' course.id %}">{{ course.body|safe|truncatewords_html:5 }}</a></p>
            {% endif %}
          </div>
        </div>

        <div class="m-1 mt-2 mb-2">
          <h5>Chapters</h5>
          <div class="small-font-size ms-3">
            {% for con in contents %}
              <p><a href="{% url 'content-each' con.id %}">{{ con.name }}</a></p>
            {% empty %}
              <p>There is no chapter here.</p>
            {% endfor %}
          </div>
        </div>
  
        <div class="m-1 mt-2 mb-2">
          <h5>Tests</h5>
          <div class="small-font-size ms-3">
            {% for quiz in quizs %}

            {% empty %}
              <p>There is no test here.</p>
            {% endfor %}
          </div>
        </div>
  
        <div class="m-1 mt-2 mb-2">
          <h5>Discuss</h5>
          <div class="small-font-size ms-3">
            {% if discuss.exists %}

            {% else %}
              <p>There is no discuss here.</p>
            {% endif %}
          </div>
        </div>
      </div>
  
      <!-- right side div -->
      <div class="col white-border">
        <!-- Introduction div -->
        <div class="m-3 mb-5">
            <h3>Introduction</h3>
            {% if course.body|safe == 'None' %}
              <p class="text-muted">There is no introduction here.</p>
            {% else %}
              <p class="text-muted">{{ course.body|safe }}</p>
            {% endif %}
        </div>
  
        <!-- chapters div -->
        <div class="m-3 border">
          <div style="border-bottom: 1px solid rgba(0,0,0,0.2)">
            <h5 class="m-2 p-2">Chapters</h5>
          </div>
          <div class="" style="display: grid; grid-template-columns: auto auto;">
            {% for content in contents %}
              <div class="" style="border: 1px solid rgba(0,0,0,0.2)">
                <p class="m-2 p-2"><a href="{% url 'content-each' content.id %}">{{ content.name }}</a></p>
              </div>
              {% empty %}
              <div class="" style="border: 1px solid rgba(0,0,0,0.2); width: max-content;">
                <p class="m-2 p-2">There is no chapter here.</p>
              </div>
            {% endfor %}
          </div>
        </div>
  
        <!-- files div -->
        <div class="m-3 border">
          <div style="border-bottom: 1px solid rgba(0,0,0,0.2)">
            <h5 class="m-2 p-2">Files</h5>
          </div>
          <div class="" style="display: grid; grid-template-columns: auto auto;">
            {% for file in files %}
              <div class="" style="border: 1px solid rgba(0,0,0,0.2)">
                <p class="m-2 p-2">{{ file.description }}</p>
                <p class="m-2 p-2"><a href="{{ file.url }}" download>download</a></p>
              </div>
              {% empty %}
              <div class="" style="border: 1px solid rgba(0,0,0,0.2); width: max-content;">
                <p class="m-2 p-2">There is no file here.</p>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>

</section>

{% endblock %}
